[pytest]
# Display concise test summaries
addopts = -ra --disable-warnings --maxfail=1 --cov=. --cov-report=term-missing --cov-report=xml:reports/coverage.xml

# Limit search to these directories
testpaths =
    tests

# Match typical test naming patterns
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Ignore files that should not count toward coverage
norecursedirs =
    .git
    .github
    reports
    data
    model_registry
    docker
    service
    experiments/ml1m_baselines/__pycache__

# Exclude specific files from coverage
[coverage:run]
omit =
    setup.py
    */__init__.py
    */__main__.py
    */venv/*
    */docker/*
    */service/*
    */model_registry/*
    */experiments/ml1m_baselines/benchmark_infer.py
    */experiments/ml1m_baselines/train_*.py
    */tests/*
